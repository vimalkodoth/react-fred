{"ast":null,"code":"import _classCallCheck from \"/Users/vimal_m/Desktop/react-fred/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/vimal_m/Desktop/react-fred/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/vimal_m/Desktop/react-fred/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/vimal_m/Desktop/react-fred/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/vimal_m/Desktop/react-fred/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/vimal_m/Desktop/react-fred/src/components/Bar.js\";\nimport React, { Component } from 'react';\nimport '../App.css';\nimport * as d3 from 'd3';\n\nvar Bar =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Bar, _Component);\n\n  function Bar() {\n    _classCallCheck(this, Bar);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Bar).apply(this, arguments));\n  }\n\n  _createClass(Bar, [{\n    key: \"drawChart\",\n    value: function drawChart() {\n      // set the dimensions and margins of the graph\n      if (!this.props.data.length) {\n        return;\n      }\n\n      var data = this.props.data[0].observations;\n      data = data.map(function (obj, index) {\n        return {\n          date: d3.timeParse(\"%Y-%m-%d\")(obj.date),\n          value: obj.value === '.' ? 0 : obj.value\n        };\n      });\n      var margin = {\n        top: 10,\n        right: 30,\n        bottom: 30,\n        left: 50\n      },\n          width = 800 - margin.left - margin.right,\n          height = 400 - margin.top - margin.bottom; // Parse the date / time\n\n      var parseDate = d3.timeParse(\"%Y-%m\");\n      var x = d3.scaleBand().rangeRound([0, width]).paddingInner(0.05);\n      var y = d3.scaleLinear().range([height, 0]);\n      var xAxis = d3.axisBottom(x).tickFormat(d3.timeFormat(\"%Y-%m\"));\n      var yAxis = d3.axisLeft(y).ticks(10);\n      var svg = d3.select(\"body\").append(\"svg\").attr(\"width\", width + margin.left + margin.right).attr(\"height\", height + margin.top + margin.bottom).append(\"g\").attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\n      x.domain(data.map(function (d) {\n        return d.date;\n      }));\n      y.domain([0, d3.max(data, function (d) {\n        return d.value;\n      })]);\n      svg.append(\"g\").attr(\"class\", \"x axis\").attr(\"transform\", \"translate(0,\" + height + \")\").call(xAxis).selectAll(\"text\").style(\"text-anchor\", \"end\").attr(\"dx\", \"-.8em\").attr(\"dy\", \"-.55em\").attr(\"transform\", \"rotate(-90)\");\n      svg.append(\"g\").attr(\"class\", \"y axis\").call(yAxis).append(\"text\").attr(\"transform\", \"rotate(-90)\").attr(\"y\", 6).attr(\"dy\", \".71em\").style(\"text-anchor\", \"end\").text(\"Value ($)\");\n      svg.selectAll(\"bar\").data(data).enter().append(\"rect\").style(\"fill\", \"steelblue\").attr(\"x\", function (d) {\n        return x(d.date);\n      }).attr(\"width\", x.bandwidth()).attr(\"y\", function (d) {\n        return y(d.value);\n      }).attr(\"height\", function (d) {\n        return height - y(d.value);\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.drawChart();\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      this.drawChart();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        id: \"bar_chart\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      });\n    }\n  }]);\n\n  return Bar;\n}(Component);\n\nexport default Bar;","map":{"version":3,"sources":["/Users/vimal_m/Desktop/react-fred/src/components/Bar.js"],"names":["React","Component","d3","Bar","props","data","length","observations","map","obj","index","date","timeParse","value","margin","top","right","bottom","left","width","height","parseDate","x","scaleBand","rangeRound","paddingInner","y","scaleLinear","range","xAxis","axisBottom","tickFormat","timeFormat","yAxis","axisLeft","ticks","svg","select","append","attr","domain","d","max","call","selectAll","style","text","enter","bandwidth","drawChart","nextProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport '../App.css';\nimport * as d3 from 'd3';\n\nclass Bar extends Component {\n\n\t\n\tdrawChart(){\n\t// set the dimensions and margins of the graph\n\tif(!this.props.data.length){\n\t\treturn;\n\t}\n\tvar data = this.props.data[0].observations;\n\n\tdata = data.map(function(obj, index){\n\t\treturn {\n\t\t\tdate: d3.timeParse(\"%Y-%m-%d\")(obj.date),\n\t\t\tvalue: obj.value === '.' ? 0 : obj.value\n\t\t}\n\t})\n\tvar margin = {top: 10, right: 30, bottom: 30, left: 50},\n\t    width = 800 - margin.left - margin.right,\n\t    height = 400 - margin.top - margin.bottom;\n\t// Parse the date / time\n\tvar\tparseDate = d3.timeParse(\"%Y-%m\");\n\n\tvar x = d3.scaleBand().rangeRound([0, width]).paddingInner(0.05);\n\n\tvar y = d3.scaleLinear().range([height, 0]);\n\n\tvar xAxis = d3.axisBottom(x)\n\t    .tickFormat(d3.timeFormat(\"%Y-%m\"));\n\n\tvar yAxis = d3.axisLeft(y)\n\t    .ticks(10);\n\n\tvar svg = d3.select(\"body\").append(\"svg\")\n\t    .attr(\"width\", width + margin.left + margin.right)\n\t    .attr(\"height\", height + margin.top + margin.bottom)\n\t  .append(\"g\")\n\t    .attr(\"transform\", \n\t          \"translate(\" + margin.left + \",\" + margin.top + \")\");\n  \n  x.domain(data.map(function(d) { return d.date; }));\n  y.domain([0, d3.max(data, function(d) { return d.value; })]);\n\n  svg.append(\"g\")\n      .attr(\"class\", \"x axis\")\n      .attr(\"transform\", \"translate(0,\" + height + \")\")\n      .call(xAxis)\n    .selectAll(\"text\")\n      .style(\"text-anchor\", \"end\")\n      .attr(\"dx\", \"-.8em\")\n      .attr(\"dy\", \"-.55em\")\n      .attr(\"transform\", \"rotate(-90)\" );\n\n  svg.append(\"g\")\n      .attr(\"class\", \"y axis\")\n      .call(yAxis)\n    .append(\"text\")\n      .attr(\"transform\", \"rotate(-90)\")\n      .attr(\"y\", 6)\n      .attr(\"dy\", \".71em\")\n      .style(\"text-anchor\", \"end\")\n      .text(\"Value ($)\");\n\n  svg.selectAll(\"bar\")\n      .data(data)\n    .enter().append(\"rect\")\n      .style(\"fill\", \"steelblue\")\n      .attr(\"x\", function(d) { return x(d.date); })\n      .attr(\"width\", x.bandwidth())\n      .attr(\"y\", function(d) { return y(d.value); })\n      .attr(\"height\", function(d) { return height - y(d.value); });\n\n\t}\n\n\tcomponentDidMount(){\n\t\tthis.drawChart();\n\t}\n\n\tcomponentWillReceiveProps(nextProps) {\n\t\tthis.drawChart();\n\t}\n  render() {\n    return (\n        <div id=\"bar_chart\"></div>\n    );\n  }\n}\n\nexport default Bar;\n"]},"metadata":{},"sourceType":"module"}