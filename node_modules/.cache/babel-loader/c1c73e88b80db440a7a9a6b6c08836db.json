{"ast":null,"code":"import _classCallCheck from \"/Users/vimal_m/Desktop/react-fred/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/vimal_m/Desktop/react-fred/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/vimal_m/Desktop/react-fred/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/vimal_m/Desktop/react-fred/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/vimal_m/Desktop/react-fred/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/vimal_m/Desktop/react-fred/src/components/Line.js\";\nimport React, { Component } from 'react';\nimport '../App.css';\nimport * as d3 from 'd3';\n\nvar Line =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Line, _Component);\n\n  function Line() {\n    _classCallCheck(this, Line);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Line).apply(this, arguments));\n  }\n\n  _createClass(Line, [{\n    key: \"drawChart\",\n    value: function drawChart() {\n      // set the dimensions and margins of the graph\n      var that = this;\n\n      if (!this.props.data.length) {\n        return;\n      }\n\n      var data = this.props.data[0].observations.filter(function (obsA) {\n        return this.props.data[1].observations.some(function (obsB) {\n          if (obsA.date === obsB.date) {\n            return {\n              data: obsA.date,\n              value: obsA.value - obsB.value\n            };\n          }\n        });\n      });\n      console.log('refined');\n      console.log(data);\n      data = data.map(function (obj, index) {\n        return {\n          date: d3.timeParse(\"%Y-%m-%d\")(obj.date),\n          value: obj.value === '.' ? 0 : obj.value\n        };\n      });\n      var margin = {\n        top: 10,\n        right: 30,\n        bottom: 50,\n        left: 50\n      },\n          width = 800 - margin.left - margin.right,\n          height = 400 - margin.top - margin.bottom;\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.drawChart();\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      this.drawChart();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        id: \"line_chart\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      });\n    }\n  }]);\n\n  return Line;\n}(Component);\n\nexport default Line;","map":{"version":3,"sources":["/Users/vimal_m/Desktop/react-fred/src/components/Line.js"],"names":["React","Component","d3","Line","that","props","data","length","observations","filter","obsA","some","obsB","date","value","console","log","map","obj","index","timeParse","margin","top","right","bottom","left","width","height","drawChart","nextProps"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,YAAP;AACA,OAAO,KAAKC,EAAZ,MAAoB,IAApB;;IAEMC,I;;;;;;;;;;;;;gCAEM;AACX;AACA,UAAIC,IAAI,GAAG,IAAX;;AAEA,UAAG,CAAC,KAAKC,KAAL,CAAWC,IAAX,CAAgBC,MAApB,EAA2B;AAC1B;AACA;;AACD,UAAID,IAAI,GAAG,KAAKD,KAAL,CAAWC,IAAX,CAAgB,CAAhB,EAAmBE,YAAnB,CAAgCC,MAAhC,CAAuC,UAASC,IAAT,EAAc;AAC/D,eAAO,KAAKL,KAAL,CAAWC,IAAX,CAAgB,CAAhB,EAAmBE,YAAnB,CAAgCG,IAAhC,CAAqC,UAASC,IAAT,EAAc;AACzD,cAAGF,IAAI,CAACG,IAAL,KAAcD,IAAI,CAACC,IAAtB,EAA2B;AAC1B,mBAAO;AACNP,cAAAA,IAAI,EAAGI,IAAI,CAACG,IADN;AAENC,cAAAA,KAAK,EAAGJ,IAAI,CAACI,KAAL,GAAaF,IAAI,CAACE;AAFpB,aAAP;AAIA;AACD,SAPM,CAAP;AAQA,OATU,CAAX;AAWAC,MAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AACAD,MAAAA,OAAO,CAACC,GAAR,CAAYV,IAAZ;AAEAA,MAAAA,IAAI,GAAGA,IAAI,CAACW,GAAL,CAAS,UAASC,GAAT,EAAcC,KAAd,EAAoB;AACnC,eAAO;AACNN,UAAAA,IAAI,EAAEX,EAAE,CAACkB,SAAH,CAAa,UAAb,EAAyBF,GAAG,CAACL,IAA7B,CADA;AAENC,UAAAA,KAAK,EAAEI,GAAG,CAACJ,KAAJ,KAAc,GAAd,GAAoB,CAApB,GAAwBI,GAAG,CAACJ;AAF7B,SAAP;AAIA,OALM,CAAP;AAMA,UAAIO,MAAM,GAAG;AAACC,QAAAA,GAAG,EAAE,EAAN;AAAUC,QAAAA,KAAK,EAAE,EAAjB;AAAqBC,QAAAA,MAAM,EAAE,EAA7B;AAAiCC,QAAAA,IAAI,EAAE;AAAvC,OAAb;AAAA,UACIC,KAAK,GAAG,MAAML,MAAM,CAACI,IAAb,GAAoBJ,MAAM,CAACE,KADvC;AAAA,UAEII,MAAM,GAAG,MAAMN,MAAM,CAACC,GAAb,GAAmBD,MAAM,CAACG,MAFvC;AAOC;;;wCAEkB;AAClB,WAAKI,SAAL;AACA;;;8CAEyBC,S,EAAW;AACpC,WAAKD,SAAL;AACA;;;6BAEQ;AACR,aAAO;AAAK,QAAA,EAAE,EAAC,YAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AACA;;;;EAhDiB3B,S;;AAmDnB,eAAeE,IAAf","sourcesContent":["import React, { Component } from 'react';\nimport '../App.css';\nimport * as d3 from 'd3';\n\nclass Line extends Component {\n\n\tdrawChart(){\n\t// set the dimensions and margins of the graph\n\tvar that = this;\n\n\tif(!this.props.data.length){\n\t\treturn;\n\t}\n\tvar data = this.props.data[0].observations.filter(function(obsA){\n\t\treturn this.props.data[1].observations.some(function(obsB){\n\t\t\tif(obsA.date === obsB.date){\n\t\t\t\treturn {\n\t\t\t\t\tdata : obsA.date,\n\t\t\t\t\tvalue : obsA.value - obsB.value\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t});\n\n\tconsole.log('refined');\n\tconsole.log(data);\n\n\tdata = data.map(function(obj, index){\n\t\treturn {\n\t\t\tdate: d3.timeParse(\"%Y-%m-%d\")(obj.date),\n\t\t\tvalue: obj.value === '.' ? 0 : obj.value\n\t\t}\n\t})\n\tvar margin = {top: 10, right: 30, bottom: 50, left: 50},\n\t    width = 800 - margin.left - margin.right,\n\t    height = 400 - margin.top - margin.bottom;\n\t\n\n\n\n\t}\n\n\tcomponentDidMount(){\n\t\tthis.drawChart();\n\t}\n\n\tcomponentWillReceiveProps(nextProps) {\n\t\tthis.drawChart();\n\t}\n\n\trender() {\n\t\treturn <div id=\"line_chart\"></div>\n\t}\n}\n\nexport default Line;"]},"metadata":{},"sourceType":"module"}