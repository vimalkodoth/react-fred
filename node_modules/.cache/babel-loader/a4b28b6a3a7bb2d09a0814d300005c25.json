{"ast":null,"code":"import _classCallCheck from \"/Users/vimal_m/Desktop/react-fred/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/vimal_m/Desktop/react-fred/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/vimal_m/Desktop/react-fred/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/vimal_m/Desktop/react-fred/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/vimal_m/Desktop/react-fred/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/vimal_m/Desktop/react-fred/src/components/Shaded.js\";\nimport React, { Component } from 'react';\nimport * as d3 from 'd3';\nimport '../App.css';\n\nvar Shaded =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Shaded, _Component);\n\n  function Shaded() {\n    _classCallCheck(this, Shaded);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Shaded).apply(this, arguments));\n  }\n\n  _createClass(Shaded, [{\n    key: \"drawChart\",\n    value: function drawChart(data) {\n      // set the dimensions and margins of the graph\n      if (!this.props.data.length && !data) {\n        return;\n      }\n\n      var data = this.props.data.length ? this.props.data[0].observations : data[0].observations;\n      data = data.map(function (obj, index) {\n        return {\n          date: d3.timeParse(\"%Y-%m-%d\")(obj.date),\n          value: obj.value === '.' ? 0 : obj.value\n        };\n      });\n      var margin = {\n        top: 10,\n        right: 30,\n        bottom: 50,\n        left: 50\n      },\n          width = 800 - margin.left - margin.right,\n          height = 400 - margin.top - margin.bottom; // append the svg object to the body of the page\n\n      var svg = d3.select(\"#shaded_chart\").append(\"svg\").attr(\"width\", width + margin.left + margin.right).attr(\"height\", height + margin.top + margin.bottom).append(\"g\").attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\"); // Add X axis\n\n      var xScale = d3.scaleTime().domain(d3.extent(data, function (d) {\n        return d.date;\n      })).range([0, width]);\n      svg.append(\"g\").attr(\"transform\", \"translate(0,\" + height + \")\").call(d3.axisBottom(xScale).tickFormat(d3.timeFormat(\"%Y-%m\"))).selectAll(\"text\").style(\"text-anchor\", \"end\").attr(\"dx\", \"-.8em\").attr(\"dy\", \"-.55em\").attr(\"transform\", \"rotate(-90)\"); // Add Y axis\n\n      var yScale = d3.scaleLinear().domain([0, d3.max(data, function (d) {\n        return +d.value;\n      })]).range([height, 0]);\n      svg.append(\"g\").call(d3.axisLeft(yScale)); // Add the area\n\n      svg.append(\"path\").datum(data).attr(\"fill\", \"#cce5df\").attr(\"stroke\", \"#69b3a2\").attr(\"stroke-width\", 1.5).attr(\"d\", d3.area().x(function (d) {\n        return xScale(d.date);\n      }).y0(yScale(0)).y1(function (d) {\n        return yScale(+d.value);\n      }));\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.drawChart();\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      debugger;\n      this.drawChart(nextProps.data);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        id: \"shaded_chart\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      });\n    }\n  }]);\n\n  return Shaded;\n}(Component);\n\nexport default Shaded;","map":{"version":3,"sources":["/Users/vimal_m/Desktop/react-fred/src/components/Shaded.js"],"names":["React","Component","d3","Shaded","data","props","length","observations","map","obj","index","date","timeParse","value","margin","top","right","bottom","left","width","height","svg","select","append","attr","xScale","scaleTime","domain","extent","d","range","call","axisBottom","tickFormat","timeFormat","selectAll","style","yScale","scaleLinear","max","axisLeft","datum","area","x","y0","y1","drawChart","nextProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport * as d3 from 'd3';\nimport '../App.css';\n\nclass Shaded extends Component {\n\n\tdrawChart(data){\n\t// set the dimensions and margins of the graph\n\tif(!this.props.data.length && !data){\n\t\treturn;\n\t}\n\n\tvar data = this.props.data.length ? this.props.data[0].observations: data[0].observations;\n\n\tdata = data.map(function(obj, index){\n\t\treturn {\n\t\t\tdate: d3.timeParse(\"%Y-%m-%d\")(obj.date),\n\t\t\tvalue: obj.value === '.' ? 0 : obj.value\n\t\t}\n\t})\n\tvar margin = {top: 10, right: 30, bottom: 50, left: 50},\n\t    width = 800 - margin.left - margin.right,\n\t    height = 400 - margin.top - margin.bottom;\n\n\t// append the svg object to the body of the page\n\tvar svg = d3.select(\"#shaded_chart\")\n\t  .append(\"svg\")\n\t    .attr(\"width\", width + margin.left + margin.right)\n\t    .attr(\"height\", height + margin.top + margin.bottom)\n\t    .append(\"g\")\n\t    .attr(\"transform\",\n\t          \"translate(\" + margin.left + \",\" + margin.top + \")\");\n\t\n\t// Add X axis\n    var xScale = d3.scaleTime()\n      .domain(d3.extent(data, function(d) { return d.date; }))\n      .range([ 0, width ]);\n    svg.append(\"g\")\n      .attr(\"transform\", \"translate(0,\" + height + \")\")\n      .call(d3.axisBottom(xScale).tickFormat(d3.timeFormat(\"%Y-%m\")))\n      .selectAll(\"text\")\n      .style(\"text-anchor\", \"end\")\n      .attr(\"dx\", \"-.8em\")\n      .attr(\"dy\", \"-.55em\")\n      .attr(\"transform\", \"rotate(-90)\" );\n\n\n    // Add Y axis\n    var yScale = d3.scaleLinear()\n      .domain([0, d3.max(data, function(d) { return +d.value; })])\n      .range([ height, 0 ]);\n    svg.append(\"g\")\n      .call(d3.axisLeft(yScale));\n\n    // Add the area\n    svg.append(\"path\")\n      .datum(data)\n      .attr(\"fill\", \"#cce5df\")\n      .attr(\"stroke\", \"#69b3a2\")\n      .attr(\"stroke-width\", 1.5)\n      .attr(\"d\", d3.area()\n        .x(function(d) { return xScale(d.date) })\n        .y0(yScale(0))\n        .y1(function(d) { return yScale(+d.value) })\n      );\n\t}\n\t\n\tcomponentDidMount(){\n\t\tthis.drawChart();\n\t}\n\n\tcomponentWillReceiveProps(nextProps) {\n\t\tdebugger;\n\t\tthis.drawChart(nextProps.data);\n\t}\n\n\trender() {\n\t\treturn <div id=\"shaded_chart\"></div>\n\t}\n\n\n}\n\nexport default Shaded;"]},"metadata":{},"sourceType":"module"}